<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>M S Digital Library Ayodhya — Premium 24/7 Study Hall</title>
    <meta
      name="description"
      content="M S Digital Library — Ayodhya's premium 24/7 study hall. Silent cabins, 100% power backup, high-speed fiber, and secure 24/7 access. Zero distractions, maximum focus."
    />

    <link rel="canonical" href="" />
    <meta
      property="og:title"
      content="M S Digital Library Ayodhya — Premium 24/7 Study Hall"
    />
    <meta
      property="og:description"
      content="Ayodhya's premium 24/7 study hall — silent cabins, secure access, 100% power backup and blazing fiber internet."
    />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="" />
    <meta property="og:image" content="" />
    <meta name="twitter:card" content="summary_large_image" />

    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>📖</text></svg>"
      type="image/svg+xml"
    />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Poppins:wght@700;800&display=swap"
      rel="stylesheet"
    />
    
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css"
    />

    <style>
      /* --- Enhanced CSS Variables for Design System (Light Mode Only) --- */
      :root {
        /* Renamed for consistency/simplity */
        --clr-primary: #9b111e; /* Deep Red/Maroon */
        --clr-primary-dark: #7b0d11;
        --clr-accent: #ffd166; /* Golden Yellow */
        --clr-muted: #6b7280; /* Gray-500 */
        --clr-text-main: #111827;
        --clr-bg-light: #f9fafb; /* Light Background */
        --clr-bg-card: #ffffff; /* Card/Surface */

        /* Unified Shadow System */
        --shadow-sm: 0 4px 12px rgba(16, 24, 40, 0.04);
        --shadow-lg: 0 10px 40px rgba(17, 24, 39, 0.08);

        --layout-max-width: 1200px;

        /* Responsive Polish: Base sizes */
        --radius-sm: 8px;
        --radius-lg: 14px;
        --header-h: 64px;
        --header-h-scrolled: 52px;

        --z-header: 120;
        --z-modal: 130;
      }

      /* --- Global Resets & Typography --- */
      *,
      *::before,
      *::after {
        box-sizing: border-box;
      }

      html {
        scroll-behavior: smooth;
        height: 100%;
      }

      body {
        font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto,
          'Helvetica Neue', Arial, sans-serif;
        background: var(--clr-bg-light);
        color: var(--clr-text-main);
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        line-height: 1.6;
        margin: 0;
        /* Use CSS variable for smooth transition when header shrinks */
        padding-top: var(--header-h);
        transition: padding-top 0.3s ease, background-color 0.5s ease;
      }

      /* Dynamic Font Resizing (clamp()) */
      h1,
      h2,
      h3 {
        font-family: 'Poppins', sans-serif;
        color: var(--clr-primary-dark);
        line-height: 1.2;
      }

      h2 {
        margin-top: 1.5rem;
        margin-bottom: 0.75rem;
        font-size: clamp(1.5rem, 4vw + 1rem, 2.5rem);
        font-weight: 700;
      }

      .headline {
        font-size: clamp(1.8rem, 5vw + 1rem, 2.8rem);
        font-weight: 800;
        margin: 0;
      }

      .header__name {
        font-size: 1.1rem;
        margin: 0;
        color: var(--clr-primary);
        font-weight: 700;
      }
      h3 {
        font-size: clamp(1.15rem, 3vw + 0.5rem, 1.5rem);
        margin-bottom: 0.5rem;
        color: var(--clr-primary);
        font-weight: 600;
      }

      .sub {
        color: var(--clr-muted);
        margin: 0;
        font-weight: 500;
        font-size: 1.1rem;
      }

      .text-lead {
        color: var(--clr-muted);
        margin-bottom: 1.5rem;
        max-width: 700px;
        font-size: 1.125rem;
      }

      a {
        color: var(--clr-primary);
        text-decoration: none;
        transition: color 0.3s ease;
      }

      a:hover {
        color: var(--clr-primary-dark);
      }

      /* --- Layout Utilities --- */
      .container {
        max-width: var(--layout-max-width);
        margin: 0 auto;
        padding: 0 1rem;
      }

      .section-pad {
        padding: clamp(2.5rem, 6vh, 4rem) 0;
        transition: background-color 0.5s ease;
      }

      .grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 1.5rem;
      }

      /* --- Header & Navigation --- */
      .header {
        position: fixed;
        left: 0;
        right: 0;
        top: 0;
        height: var(--header-h);
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0.5rem 1rem;
        /* Enhanced Glassmorphism for Header */
        backdrop-filter: blur(10px) saturate(180%);
        background: rgba(255, 255, 255, 0.85); /* Slightly less opaque */
        box-shadow: var(--shadow-sm);
        z-index: var(--z-header);
        transition: height 0.3s ease, padding 0.3s ease, background 0.3s ease;
      }

      .header.is-scrolled {
        height: var(--header-h-scrolled);
        padding: 0.4rem 1rem;
      }

      .header__brand {
        display: flex;
        align-items: center;
        gap: 0.75rem;
      }

      .header__logo {
        width: 38px;
        height: 38px;
        border-radius: var(--radius-sm);
        background: linear-gradient(
          135deg,
          var(--clr-primary),
          var(--clr-primary-dark)
        );
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: 700;
        font-family: Poppins;
        font-size: 1.1rem;
        transition: all 0.3s ease;
      }

      .header.is-scrolled .header__logo {
        width: 34px;
        height: 34px;
        font-size: 0.9rem;
      }

      .header__subtitle {
        color: var(--clr-muted);
        font-size: 0.8rem;
        font-weight: 500;
        transition: opacity 0.3s ease;
        display: none;
      }

      /* --- Buttons (CTAs) --- */
      .btn {
        padding: 0.7rem 1.1rem;
        font-size: 0.95rem;
        position: relative;
        overflow: hidden;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        background: var(--clr-accent);
        color: var(--clr-primary-dark);
        font-weight: 700;
        border-radius: var(--radius-sm);
        text-decoration: none;
        transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        border: 2px solid transparent;
        cursor: pointer;
        line-height: 1;
        z-index: 1;
        /* Added subtle initial lift for visual punch */
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
      }

      .btn:hover,
      .btn:focus {
        filter: brightness(0.9);
        transform: translateY(-1px);
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
        outline: none;
      }

      .btn--secondary {
        background: transparent;
        color: var(--clr-primary);
        border: 2px solid rgba(155, 17, 30, 0.12);
        box-shadow: none;
      }

      .btn--secondary:hover,
      .btn--secondary:focus {
        background: rgba(155, 17, 30, 0.05);
        transform: translateY(-1px);
        box-shadow: none;
      }

      /* Ripple Effect Base */
      .ripple {
        position: absolute;
        border-radius: 50%;
        transform: scale(0);
        animation: ripple-effect 0.6s linear;
        background-color: rgba(155, 17, 30, 0.3);
        pointer-events: none;
      }

      @keyframes ripple-effect {
        to {
          transform: scale(4);
          opacity: 0;
        }
      }

      /* --- Hero Section --- */
      .hero-section {
        display: grid;
        grid-template-columns: 1fr;
        gap: 1.5rem;
        align-items: center;
        position: relative;
        padding-top: 2rem;
      }

      .hero-section__inner {
        padding: 1.25rem;
        border-radius: var(--radius-lg);
        box-shadow: var(--shadow-lg);
        display: flex;
        flex-direction: column;
        gap: 1.25rem;
        /* Premium Gradient Background */
        background: linear-gradient(
          180deg,
          rgba(155, 17, 30, 0.06) 0%,
          rgba(255, 209, 102, 0.03) 100%
        );
        border: 1px solid rgba(155, 17, 30, 0.1);
      }

      .hero-section__cta {
        display: flex;
        gap: 0.75rem;
        align-items: center;
        flex-wrap: wrap;
      }

      .hero-section__img-wrapper {
        position: relative;
        border-radius: var(--radius-lg);
        overflow: hidden;
        box-shadow: var(--shadow-lg);
        border: 1px solid rgba(17, 24, 39, 0.05);
        /* REMOVED: will-change: transform; to disable parallax */
        /* ADDED: Reset transform to ensure no residual effect */
        transform: translateY(0px);
      }

      .hero-section__img-wrapper img,
      .hero-section__img-wrapper picture {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
        min-height: 250px;
        /* REMOVED: transition: transform 0.3s ease; to disable parallax */
      }

      /* --- Badges & Video CTA --- */
      .feature-badges {
        display: flex;
        gap: 0.5rem;
        flex-wrap: wrap;
        padding-top: 0.75rem;
      }

      .badge {
        padding: 0.5rem 0.8rem;
        font-size: 0.8rem;
        background: var(--clr-bg-card);
        border-radius: var(--radius-sm);
        box-shadow: var(--shadow-sm);
        font-weight: 600;
        color: var(--clr-muted);
        display: flex;
        gap: 8px;
        align-items: center;
        border: 1px solid rgba(0, 0, 0, 0.05);
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }

      .badge--video-tour {
        background: #e62e49;
        color: white;
        box-shadow: 0 6px 15px rgba(230, 46, 73, 0.4);
        font-weight: 700;
        cursor: pointer;
        order: -1;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }

      .badge--video-tour:hover {
        transform: scale(1.03); /* Subtle scale up */
        box-shadow: 0 8px 20px rgba(230, 46, 73, 0.5);
      }

      /* --- Card Component (Updated with Premium Styling for Advantage Cards) --- */
      .card {
        /* Inherit premium gradient and border from hero-section__inner */
        background: linear-gradient(
          180deg,
          rgba(155, 17, 30, 0.06) 0%,
          rgba(255, 209, 102, 0.03) 100%
        );
        border: 1px solid rgba(155, 17, 30, 0.1);

        border-radius: var(--radius-lg);
        padding: 1.5rem;
        box-shadow: var(--shadow-lg); /* Use larger shadow */
        transition: transform 0.3s ease, box-shadow 0.3s ease,
          background 0.3s ease;
      }

      .card:hover {
        /* Disabled transform lift, keeps consistent shadow */
        transform: none;
        box-shadow: var(--shadow-lg);
      }

      /* Override for Contact Section Cards to keep them clean/white */
      .map-wrapper,
      .contact-form-card {
        background: var(--clr-bg-card);
        border: 1px solid rgba(0, 0, 0, 0.05);
        box-shadow: var(--shadow-sm);
      }

      .map-wrapper:hover,
      .contact-form-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 12px 30px rgba(16, 24, 40, 0.1);
      }

      /* --- Slideshow Styles (Standardized) --- */
      .slideshow {
        position: relative;
        max-width: 100%;
        margin: 0 auto;
        border-radius: var(--radius-lg);
        overflow: hidden;
        box-shadow: var(--shadow-lg);
        height: 250px;
        user-select: none;
      }

      .slideshow img {
        /* Ensures lazy-loaded images transition nicely */
        transition: opacity 0.5s ease;
      }

      /* Fix for nested image tags */
      .slideshow picture,
      .slideshow img {
        height: 100%;
        width: 100%;
      }

      .prev,
      .next {
        cursor: pointer;
        position: absolute;
        top: 50%;
        width: auto;
        padding: 16px;
        margin-top: -22px;
        color: white;
        font-weight: bold;
        font-size: 18px;
        transition: 0.6s ease;
        border-radius: 0 3px 3px 0;
        user-select: none;
        background-color: rgba(0, 0, 0, 0.3);
        z-index: 10;
      }

      .next {
        right: 0;
        border-radius: 3px 0 0 3px;
      }

      .prev:hover,
      .next:hover {
        background-color: rgba(0, 0, 0, 0.6);
      }

      /* Fading animation */
      .fade {
        animation-name: fade;
        animation-duration: 1.5s;
      }

      @keyframes fade {
        from {
          opacity: 0.4;
        }
        to {
          opacity: 1;
        }
      }

      /* Dots/bullets/indicators */
      .dots-container {
        text-align: center;
        position: absolute;
        bottom: 10px;
        left: 50%;
        transform: translateX(-50%);
        z-index: 15;
      }

      .dot {
        cursor: pointer;
        height: 12px;
        width: 12px;
        margin: 0 4px;
        background-color: rgba(255, 255, 255, 0.5);
        border-radius: 50%;
        display: inline-block;
        transition: background-color 0.6s ease;
        border: 2px solid rgba(0, 0, 0, 0.2);
      }

      .active,
      .dot:hover {
        background-color: var(--clr-accent);
      }

      /* --- Facility List (Replaced inline styles from HTML) --- */
      .facility-list {
        list-style: none;
        padding-left: 0;
        display: grid;
        grid-template-columns: 1fr;
        gap: 0.75rem;
      }

      /* NEW: Class to replace inline style */
      .facility-list-wrapper {
        margin-top: 1.5rem;
      }

      .facility-list__item-title {
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      /* --- Pricing Grid (Scrollable & Enhanced) --- */
      .pricing-grid {
        display: flex;
        gap: 1rem;
        overflow-x: auto;
        scroll-snap-type: x mandatory;
        padding-bottom: 1rem;
        -webkit-overflow-scrolling: touch;
        margin-top: 1rem;
        /* Added a small buffer padding for visual spacing on desktop/tablet */
        padding-left: 0.5rem;
        padding-right: 0.5rem;
        margin-left: -0.5rem;
        margin-right: -0.5rem;
      }

      .pricing-grid::-webkit-scrollbar {
        height: 6px;
      }
      .pricing-grid::-webkit-scrollbar-thumb {
        background: rgba(155, 17, 30, 0.4);
        border-radius: 3px;
      }

      .plan {
        flex: 0 0 95%;
        max-width: 95%;
        padding: 1.25rem;
        border-radius: var(--radius-lg);
        scroll-snap-align: start;

        box-shadow: var(--shadow-lg);
        background: linear-gradient(
          180deg,
          rgba(155, 17, 30, 0.06) 0%,
          rgba(255, 209, 102, 0.03) 100%
        );
        border: 1px solid rgba(155, 17, 30, 0.1);
        /* Added margin for mobile spacing inside the scrolling container */
        margin-left: 0.5rem;
        margin-right: 0.5rem;
      }

      .plan:first-child {
        margin-left: 0rem; /* Aligns first card with container padding */
      }

      .plan:last-child {
        margin-right: 0rem; /* Aligns last card with container padding */
      }

      .plan:hover {
        transform: none;
        box-shadow: var(--shadow-lg);
      }

      .plan__price {
        font-size: 2.2rem;
        font-weight: 800;
        color: var(--clr-primary-dark);
        margin: 0.5rem 0 1rem;
      }

      /* NEW: Class to replace inline style */
      .plan__price-note {
        font-size: 0.8rem;
        color: var(--clr-muted);
      }

      .plan__features {
        list-style: none;
        padding: 0;
        margin-bottom: 1.5rem;
      }

      .plan__features li {
        margin-bottom: 0.5rem;
        padding-left: 0.2rem;
      }

      .plan--recommended {
        position: relative;
        overflow: hidden;
        border-top: 4px solid var(--clr-primary);
        box-shadow: 0 12px 30px rgba(16, 24, 40, 0.1);
        background: linear-gradient(
          180deg,
          var(--clr-bg-card) 0%,
          rgba(155, 17, 30, 0.03) 100%
        );
      }
      
      /* NEW: Class to replace inline style */
      .pricing-note {
        color: var(--clr-primary-dark);
        margin-top: 1.5rem;
        font-weight: 600;
      }

      /* --- Contact Section & Form --- */
      .contact-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 1.5rem;
      }

      .map-wrapper {
        height: 380px;
        border-radius: var(--radius-lg);
        overflow: hidden;
      }

      .map-wrapper iframe {
        width: 100%;
        height: 100%;
        border: 0; /* Already in HTML, but good practice to include */
      }

      /* NEW: Styles for elements formerly using inline styles */
      .contact-form-card address {
        margin: 0.75rem 0;
        font-style: normal;
      }
      .contact-form-card address strong {
        color: var(--clr-primary-dark);
      }
      .contact-link {
        color: var(--clr-primary);
        text-decoration: none;
        font-weight: 700;
        display: block;
      }
      .contact-link.contact-link--muted {
        color: var(--clr-muted);
        font-weight: 400;
      }
      .contact-note {
        font-size: 0.9rem;
        color: var(--clr-muted);
        margin-top: 1rem;
      }
      /* END: New styles */


      .form label {
        display: block;
        font-weight: 600;
        margin-top: 1rem;
        margin-bottom: 0.3rem;
        color: var(--clr-primary-dark);
      }

      .form input,
      .form textarea,
      .form select {
        width: 100%;
        padding: 0.75rem;
        border: 1px solid #d1d5db;
        border-radius: var(--radius-sm);
        font-size: 1rem;
        font-family: inherit;
        transition: border-color 0.3s ease, box-shadow 0.3s ease;
      }

      .form input:focus,
      .form textarea:focus,
      .form select:focus {
        outline: none;
        border-color: var(--clr-primary);
        box-shadow: 0 0 0 3px rgba(155, 17, 30, 0.1);
      }

      .form button {
        width: 100%;
        margin-top: 1.5rem;
      }

      /* --- Footer --- */
      .footer {
        padding: 1.5rem 0;
        background: var(--clr-bg-card);
        border-top: 1px solid rgba(0, 0, 0, 0.05);
      }
      
      /* NEW: Styles for elements formerly using inline styles */
      .footer .container {
        text-align: center;
      }
      .footer small {
        color: var(--clr-muted);
        font-size: 0.9rem;
      }
      /* END: New styles */

      /* --- Mobile Sticky CTA Button (Refined Glassmorphism) --- */
      .sticky-cta {
        position: fixed;
        bottom: 0.75rem;
        left: 50%;
        transform: translateX(-50%) translateY(100%); /* Start off-screen */
        z-index: var(--z-header);
        width: calc(100% - 2rem);
        max-width: 320px;

        /* ⭐️ REFINED GLASS EFFECT ⭐️ */
        background: rgba(
          155,
          17,
          30,
          0.9
        ); /* More opaque for better readability */
        backdrop-filter: blur(15px); /* Increased blur for cleaner look */
        -webkit-backdrop-filter: blur(15px);
        border: 2px solid rgba(255, 255, 255, 0.5);

        color: white;
        padding: 0.8rem 1.5rem;
        border-radius: 50px;
        font-weight: 700;
        text-align: center;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.45);
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease, visibility 0.3s ease,
          transform 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
        display: block;
        animation: pulse 2s infinite;
        font-size: 1rem;
      }

      .sticky-cta.is-visible {
        opacity: 1;
        visibility: visible;
        transform: translateX(-50%) translateY(0); /* Slide into view */
      }

      @keyframes pulse {
        0% {
          box-shadow: 0 0 0 0 rgba(255, 209, 102, 0.7);
        }
        70% {
          box-shadow: 0 0 0 10px rgba(255, 209, 102, 0);
        }
        100% {
          box-shadow: 0 0 0 0 rgba(255, 209, 102, 0);
        }
      }

      /* --- Media Queries (Responsiveness and Layout) --- */

      /* Mobile (max-width: 599px) - Focus on fixing the side margins */
      @media (max-width: 599px) {
        /* Ensure the container padding (1rem) is consistent */
        .container {
          padding: 0 1rem;
        }

        /* 🎯 FIX 1: Add space between header and hero section on mobile */
        .hero-section {
          padding-top: 3.5rem;
        }

        /* All card-like sections should use 100% width and rely on container padding */
        .hero-section__inner,
        .hero-section__img-wrapper,
        .card,
        .map-wrapper,
        .contact-form-card,
        .slideshow {
          /* Reset any conflicting margins and use full width within the container */
          margin-left: 0;
          margin-right: 0;
          width: 100%;
        }

        /* Pricing grid fix: This scroll container spans the full viewport width (no container padding) 
       but its internal items (plans) must be spaced correctly. */
        .pricing-grid {
          /* Adjusting the scroll container to break out of the 1rem container padding */
          padding-left: 1rem; /* Matches container padding for first item alignment */
          padding-right: 1rem; /* Ensures scrolling extends to the end */
          margin-left: -1rem; /* Pulls the grid visually to the left edge of the screen */
          margin-right: -1rem; /* Pulls the grid visually to the right edge of the screen */
        }

        /* Plan width adjusted for the 1rem container padding + 1rem internal gap + 1rem right side padding */
        .plan {
          flex: 0 0 calc(95% - 1.5rem);
          max-width: calc(95% - 1.5rem);
          margin: 0; /* Remove internal plan margins for better control */
          scroll-snap-align: center; /* Better scrolling UX */
        }

        /* Re-apply the margins ONLY for the scroll container's internal padding */
        .plan:first-child {
          margin-left: 0;
        }

        .plan:last-child {
          margin-right: 0;
        }

        /* Hide the subtitle on smallest screens */
        .header__subtitle {
          display: none;
        }
      }

      /* Tablet (min-width: 600px) */
      @media (min-width: 600px) {
        /* Restores/Refines tablet layout */
        .container {
          padding: 0 1.5rem;
        }
        .header {
          height: 72px;
          padding: 0.75rem 1.5rem;
        }
        .header.is-scrolled {
          height: 60px;
          padding: 0.5rem 1.5rem;
        }
        .header__subtitle {
          display: block;
        }

        .hero-section {
          grid-template-columns: 1fr 1.2fr;
          padding-top: 4rem;
        }

        /* Reset Mobile Margin/Padding Fixes for Scrollable Grid */
        .pricing-grid {
          /* On tablet, the pricing grid is still scrollable but centered */
          padding-left: 0;
          padding-right: 0;
          margin-left: auto;
          margin-right: auto;
          max-width: 100%;
          justify-content: flex-start;
        }

        /* Pricing plans become two columns on tablet (still scrollable) */
        .plan {
          flex: 0 0 calc(50% - 0.5rem);
          max-width: calc(50% - 0.5rem);
          margin: 0 0.5rem; /* Re-introduce margin for internal spacing */
          scroll-snap-align: start;
        }

        .plan:first-child {
          margin-left: 0;
        }

        .plan:last-child {
          margin-right: 0;
        }

        .slideshow {
          height: 400px;
        }

        /* Hide sticky CTA on tablet/desktop */
        .sticky-cta {
          display: none !important;
        }
      }

      /* Desktop (min-width: 900px) */
      @media (min-width: 900px) {
        /* Desktop layout */
        .hero-section {
          grid-template-columns: 1fr 1fr;
        }

        .grid {
          grid-template-columns: repeat(3, 1fr);
        }

        .contact-grid {
          grid-template-columns: 1fr 400px;
        }

        /* Pricing Grid changes to a fixed, wrapped layout */
        .pricing-grid {
          display: flex; /* Keep flex */
          flex-wrap: wrap; /* Allow wrapping */
          overflow-x: hidden; /* Disable horizontal scroll */
          justify-content: center; /* Center the entire group */
          gap: 1.5rem; /* Increase gap for desktop */
          padding: 0;
          margin: 0;
        }

        /* Reset plan margins/paddings and set fixed widths */
        .plan,
        .plan:first-child,
        .plan:last-child {
          margin: 0;
          padding: 1.5rem; /* Slightly larger padding */
          scroll-snap-align: none;
          flex: 1 1 auto; /* Allow items to grow/shrink based on max-width */
        }

        /* Set 3-column layout for the first three plans */
        .plan:nth-child(-n + 3) {
          max-width: calc(
            33.333% - 1rem
          ); /* 1.5rem total gap, so 1rem margin for calc */
        }

        /* Set 2-column layout for the bottom two plans */
        .plan:nth-child(4),
        .plan:nth-child(5) {
          max-width: calc(50% - 1rem);
          margin-top: 0.5rem;
        }
      }
    </style>
    </head>

  <body>
    <a href="#contact" class="sticky-cta" data-aos="pulse">Book a Visit Now</a>

    <header class="header container" role="banner" id="site-header">
      <div class="header__brand">
        <div class="header__logo">MS</div>
        <div>
          <div class="header__name">M S Digital Library</div>
          <div class="header__subtitle">Ayodhya — 24/7 Study Hall</div>
        </div>
      </div>
      <nav aria-label="Primary navigation">
        <a class="btn" href="#contact">Book a Visit</a>
      </nav>
    </header>

    <main>
      <section
        class="section-pad hero-section container"
        aria-labelledby="hero-title"
      >
        <div class="hero-section__img-wrapper" data-aos="fade-left">
          <div
            class="slideshow"
            role="region"
            aria-label="Library Image Slideshow"
            aria-live="polite"
          >
            <div class="slide fade">
              <img
                src="https://placehold.co/600x400/9b111e/white?text=Quiet+Study+Cabin"
                alt="Sound-dampened individual study cabin with ergonomic chair"
                loading="eager"
                fetchpriority="high"
              />
            </div>
            <div class="slide fade">
              <img
                src="https://placehold.co/600x400/ffd166/111827?text=Refreshment+Area"
                alt="Clean refreshment area with cafe seating"
                loading="lazy"
              />
            </div>
            <div class="slide fade">
              <img
                src="https://placehold.co/600x400/6b7280/white?text=High-Speed+Wi-Fi"
                alt="High-speed fiber router and network equipment"
                loading="lazy"
              />
            </div>
            <div class="slide fade">
              <img
                src="https://placehold.co/600x400/f9fafb/111827?text=Organized+Desk"
                alt="Organized, well-lit study desk with a modern task lamp"
                loading="lazy"
              />
            </div>
            <a class="prev" aria-label="Previous Slide">❮</a>
            <a class="next" aria-label="Next Slide">❯</a>

            <div
              class="dots-container"
              role="tablist"
              aria-label="Slideshow Indicators"
            >
              <span
                class="dot"
                role="button"
                tabindex="0"
                aria-label="Go to slide 1"
              ></span>
              <span
                class="dot"
                role="button"
                tabindex="0"
                aria-label="Go to slide 2"
              ></span>
              <span
                class="dot"
                role="button"
                tabindex="0"
                aria-label="Go to slide 3"
              ></span>
              <span
                class="dot"
                role="button"
                tabindex="0"
                aria-label="Go to slide 4"
              ></span>
            </div>
          </div>
        </div>

        <div class="hero-section__inner" data-aos="fade-up">
          <div>
            <h1 id="hero-title" class="headline">
              Zero Distractions. Maximum Focus.
            </h1>
            <p class="sub">
              Ayodhya’s premium 24/7 study hall — silent cabins, secure access,
              100% power backup and blazing fiber internet.
            </p>
          </div>

          <div class="hero-section__cta">
            <a class="btn" href="#pricing">View Plans & Enroll</a>
            <a class="btn btn--secondary" href="#contact">Book a Visit</a>
          </div>

          <div class="feature-badges">
            <span
              class="badge badge--video-tour"
              id="video-tour-cta"
              role="button"
            >
              ▶ YouTube Tour
            </span>
            <span class="badge">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="lucide lucide-wifi"
              >
                <path d="M5 12.5C7.94 9.17 11 8 12 8s4.06 1.17 7 4.5" />
                <path d="M2.5 9C6.88 4.7 17.12 4.7 21.5 9" />
                <path d="M8 16c2.42 2.76 5.58 2.76 8 0" />
              </svg>
              High-Speed Fiber
            </span>
            <span class="badge">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="lucide lucide-lock"
              >
                <rect width="18" height="11" x="3" y="11" rx="2" ry="2" />
                <path d="M7 11V7a5 5 0 0 1 10 0v4" />
              </svg>
              24/7 Security
            </span>
            <span class="badge">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="lucide lucide-snowflake"
              >
                <line x1="2" x2="22" y1="12" y2="12" />
                <line x1="12" x2="12" y1="2" y2="22" />
                <path d="m20 16-4-4 4-4" />
                <path d="m4 8 4 4-4 4" />
                <path d="m16 4-4 4-4-4" />
                <path d="m8 20 4-4 4 4" />
              </svg>
              A/C Comfort
            </span>
            <span class="badge">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="lucide lucide-battery-charging"
              >
                <path d="M15.7 6.5L14 8h3.4L12 13.5" />
                <path d="M6 10h2" />
                <path d="M2 7h19v10H2z" />
                <path d="M22 10h1.5v4H22" />
              </svg>
              100% Power Backup
            </span>
          </div>
        </div>
        <div class="scroll-indicator" aria-hidden="true"></div>
      </section>

      <section
        id="advantage"
        class="section-pad container"
        aria-labelledby="advantage-title"
      >
        <h2 id="advantage-title">Achieve Your Competitive Edge</h2>
        <p class="text-lead">
          Thoughtfully designed spaces and policies to help you focus, build
          momentum and hit target goals—day or night.
        </p>

        <div class="grid">
          <article class="card" data-aos="fade-up">
            <h3>Silent Productivity</h3>
            <p>
              Sound-dampened private cabins with ergonomic 30" desks — built for
              long study sessions.
            </p>
          </article>

          <article class="card" data-aos="fade-up" data-aos-delay="120">
            <h3>Premium Cabin Space</h3>
            <p>
              Large desks, task lamps, and secure shelving — everything you need
              to stay organised.
            </p>
          </article>

          <article class="card" data-aos="fade-up" data-aos-delay="240">
            <h3>24/7 Security & Power</h3>
            <p>
              Access control & CCTV, plus **UPS + generator** so your session
              never stops.
            </p>
          </article>
        </div>
      </section>

      <section
        id="facilities"
        class="section-pad container"
        aria-labelledby="facilities-title"
      >
        <h2 id="facilities-title">Designed for Success</h2>
        <p class="text-lead">Amenities curated for comfort and focus.</p>

        <div
          class="slideshow"
          data-aos="fade-up"
          role="region"
          aria-label="Facilities Image Slideshow"
          aria-live="polite"
        >
          <div class="slide fade">
            <img
              src="https://placehold.co/600x400/9b111e/white?text=Individual+Cabin"
              alt="Individual study cabin interior"
              loading="lazy"
            />
          </div>
          <div class="slide fade">
            <img
              src="https://placehold.co/600x400/ffd166/111827?text=Refreshments"
              alt="Refreshment area with water dispenser and vending machine"
              loading="lazy"
            />
          </div>
          <div class="slide fade">
            <img
              src="https://placehold.co/600x400/6b7280/white?text=Secure+Access"
              alt="High speed fiber optic wifi equipment"
              loading="lazy"
            />
          </div>
          <div class="slide fade">
            <img
              src="https://placehold.co/600x400/f9fafb/111827?text=Clean+Desk"
              alt="Clean and well-lit study desk setup"
              loading="lazy"
            />
          </div>
          <a class="prev" aria-label="Previous Slide">❮</a>
          <a class="next" aria-label="Next Slide">❯</a>

          <div
            class="dots-container"
            role="tablist"
            aria-label="Slideshow Indicators"
          >
            <span
              class="dot"
              role="button"
              tabindex="0"
              aria-label="Go to slide 1"
            ></span>
            <span
              class="dot"
              role="button"
              tabindex="0"
              aria-label="Go to slide 2"
            ></span>
            <span
              class="dot"
              role="button"
              tabindex="0"
              aria-label="Go to slide 3"
            ></span>
            <span
              class="dot"
              role="button"
              tabindex="0"
              aria-label="Go to slide 4"
            ></span>
          </div>
        </div>

        <div class="facility-list-wrapper" data-aos="fade-up">
          <ul class="facility-list">
            <li>
              <strong class="facility-list__item-title">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-zap"><path d="M15.5 2H8.5L5 12h5.5l-3 10 10.5-12H13l3.5-10"/></svg> 
                Dedicated fiber connection
              </strong> 
              — stable video lectures & downloads.
            </li>
            <li>
              <strong class="facility-list__item-title">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cup-soda"><path d="M12 2v2"/><path d="M18.4 20.4a2.15 2.15 0 0 1-2.61.3L14 18l-2 3-2.61-3.1a2.15 2.15 0 0 1-2.61-.3C4.8 19.3 4 17.7 4 16v-2c0-2.2 1.8-4 4-4h8c2.2 0 4 1.8 4 4v2c0 1.7-.8 3.3-2.4 4.4z"/><path d="M6 14v4a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-4"/></svg> 
                RO water & vending
              </strong> 
              — healthy, affordable refreshments on-site.
            </li>
            <li>
              <strong class="facility-list__item-title">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sparkles"><path d="M2.5 19.5l-1-1 3.5-3.5 1 1 1-1-3.5 3.5 1 1 3.5-3.5-1-1-1 1-3.5 3.5ZM20 20l-1-1 3.5-3.5 1 1 1-1-3.5 3.5 1 1 3.5-3.5-1-1-1 1-3.5 3.5Z"/><path d="M13 3l-1-1 3.5-3.5 1 1 1-1-3.5 3.5 1 1 3.5-3.5-1-1-1 1-3.5 3.5Z"/></svg> 
                Clean facilities
              </strong> 
              — daily housekeeping and separate washrooms.
            </li>
            <li>
              <strong class="facility-list__item-title">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-library"><path d="M8 2v10H4"/><path d="m14 2 6 2v16l-6-2"/><path d="M4 22h16"/><path d="M12 2v20"/></svg> 
                Reading resources
              </strong> 
              — newspapers, magazines and competitive exam books.
            </li>
          </ul>
        </div>
      </section>

      <section
        id="pricing"
        class="section-pad container"
        aria-labelledby="pricing-title"
      >
        <h2 id="pricing-title">Flexible Plans — Choose Your Focus</h2>
        <p class="text-lead">
          Transparent pricing, simple add-ons and an optional seat reservation
          for busy months.
        </p>

        <div
          class="pricing-grid"
          role="region"
          aria-label="M S Digital Library Pricing Plans"
        >
          <article class="plan" data-aos="zoom-in">
            <h3>Morning Session</h3>
            <div class="plan__price">
              ₹499/-
              <span class="plan__price-note">/ month</span>
            </div>
            <ul class="plan__features">
              <li><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clock"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg> 7 AM – 12 PM (5 hours)</li>
              <li>📶 Wi‑Fi, ❄️ A/C & Shared Cabin</li>
              <li>Optional Seat Reservation</li>
            </ul>
            <a class="btn" href="#contact">Enroll Now</a>
          </article>

          <article class="plan" data-aos="zoom-in" data-aos-delay="80">
            <h3>Afternoon Session</h3>
            <div class="plan__price">
              ₹599/-
              <span class="plan__price-note">/ month</span>
            </div>
            <ul class="plan__features">
              <li><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clock"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg> 12 PM – 5 PM</li>
              <li><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-book-open-text"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/><path d="M6 8h2"/><path d="M6 12h2"/><path d="M16 8h2"/><path d="M16 12h2"/></svg> Ideal for structured study</li>
              <li>Dedicated Cabin Access Option</li>
            </ul>
            <a class="btn" href="#contact">Enroll Now</a>
          </article>

          <article class="plan" data-aos="zoom-in" data-aos-delay="160">
            <h3>Evening Session</h3>
            <div class="plan__price">
              ₹499/-
              <span class="plan__price-note">/ month</span>
            </div>
            <ul class="plan__features">
              <li><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clock"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg> 5 PM – 10 PM</li>
              <li><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-moon-star"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/><path d="M16 2v6h6"/></svg> Perfect for working students</li>
              <li>Quiet focused environment</li>
            </ul>
            <a class="btn" href="#contact">Enroll Now</a>
          </article>

          <article
            class="plan plan--recommended"
            data-aos="zoom-in"
            data-aos-delay="240"
          >
            <h3>Dedicated 12 Hours (Best Value)</h3>
            <div class="plan__price">
              ₹999/-
              <span class="plan__price-note">/ month</span>
            </div>
            <ul class="plan__features">
              <li><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clock"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg> Any 12 hours/day</li>
              <li><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-key"><path d="m21.792 6.136-3.837-3.837a4 4 0 1 0-5.657 5.657L11 9l-1 1-6 6v3h3l6-6 1-1 1.044-1.044a4 4 0 1 0 5.657-5.657ZM8 16l-3 3"/></svg> Exclusive Cabin & Unlimited Power</li>
              <li>Highly Recommended for Serious Aspirants</li>
            </ul>
            <a class="btn" href="#contact">Enroll Now</a>
          </article>

          <article
            class="plan plan--recommended"
            data-aos="zoom-in"
            data-aos-delay="320"
          >
            <h3>Ultimate 24/7</h3>
            <div class="plan__price">
              ₹1,299/-
              <span class="plan__price-note">/ month</span>
            </div>
            <ul class="plan__features">
              <li><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clock"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg> Unrestricted 24 hours access</li>
              <li><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-check-circle"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><path d="m9 11 3 3L22 4"/></svg> All Premium Amenities Included</li>
              <li>Best value for long-term prep</li>
            </ul>
            <a class="btn" href="#contact">Enroll Now</a>
          </article>
        </div>

        <p class="pricing-note">
          Note: One-time admission fee ₹100 + optional seat reserve ₹100 apply
          on new enrollments.
        </p>
      </section>

      <section
        id="contact"
        class="section-pad container"
        aria-labelledby="contact-title"
      >
        <h2 id="contact-title">Find Your Seat</h2>
        <p class="text-lead">
          Drop a message — we respond on WhatsApp immediately for booking and
          availability.
        </p>

        <div class="contact-grid">
          <div
            class="map-wrapper card"
            data-aos="fade-up"
            role="region"
            aria-label="M S Digital Library Location Map"
          >
            <iframe
              src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d56977.1133098977!2d82.17308755264189!3d26.80591297593265!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x399a07ce486665bf%3A0x7ccc6dbf41173b18!2sM.S.%20Digital%20Library!5e0!3m2!1sen!2sin!4v1761548203234!5m2!1sen!2sin"
              width="100%"
              height="100%"
              style="border: 0"
              allowfullscreen=""
              loading="lazy"
              referrerpolicy="no-referrer-when-downgrade"
              title="Google Maps Location of M S Digital Library in Ayodhya"
            ></iframe>
          </div>

          <div
            class="card contact-form-card"
            data-aos="fade-up"
            data-aos-delay="120"
          >
            <h3>Visit / Contact</h3>
            <address>
              <strong>M S DIGITAL LIBRARY</strong><br />12/2/10, beside Raghunath Samosa Bhandar, Kaniganj, Ayodhya, Uttar Pradesh, 224123
            </address>
            <p>
              <a href="tel:+916393069664" class="contact-link"
                >+91 63930 69664 (Call / WhatsApp)</a
              >
            </p>
            <p>
              <a
                href="mailto:info@msdigitallibrary.in"
                class="contact-link contact-link--muted"
                >info@msdigitallibrary.in</a
              >
            </p>

            <form
              id="enquiryForm"
              class="form"
              aria-label="Enquiry Form for Booking a Visit"
            >
              <label for="name">Your Full Name</label>
              <input
                type="text"
                id="name"
                name="name"
                placeholder="e.g. Rahul Sharma"
                required
              />

              <label for="phone">Phone Number (WhatsApp preferred)</label>
              <input
                type="tel"
                id="phone"
                name="phone"
                placeholder="e.g. 98765 43210"
                required
                maxlength="15"
                pattern="[0-9+ ]{8,15}"
                title="Enter a valid phone number (8 to 15 digits, including '+' if applicable)"
              />

              <label for="plan-select">Preferred Plan</label>
              <select id="plan-select" name="plan" required>
                <option value="" disabled selected>-- Select a plan --</option>
                <option value="Morning Session — ₹499">
                  Morning Session — ₹499
                </option>
                <option value="Afternoon Session — ₹600">
                  Afternoon Session — ₹599
                </option>
                <option value="Evening Session — ₹499">
                  Evening Session — ₹499
                </option>
                <option value="Dedicated 12 Hours — ₹999">
                  Dedicated 12 Hours — ₹999
                </option>
                <option value="Ultimate 24/7 — ₹1,300">
                  Ultimate 24/7 — ₹1,299
                </option>
              </select>

              <label for="note">Any Special Requests (Optional)</label>
              <textarea
                id="note"
                name="note"
                rows="3"
                placeholder="e.g. Need a visit on Saturday at 4 PM"
              ></textarea>

              <button class="btn" type="submit">Send WhatsApp Inquiry</button>
            </form>

            <p class="contact-note">
              Open 24 Hours • 100% power backup • CCTV & access control
            </p>
          </div>
        </div>
      </section>
    </main>

    <footer class="footer">
      <div class="container">
        <small
          >© 2025 M S Digital Library Ayodhya. All rights reserved.
        </small>
      </div>
    </footer>

    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"
      defer
    ></script>
    
    <script>
      // --- Core Initialization ---
      // Wait for AOS to be loaded before initializing
      document.addEventListener("DOMContentLoaded", () => {
        if (typeof AOS !== 'undefined') {
          AOS.init({ once: true, duration: 800, easing: "ease-out-cubic" });
        }
      });


      // Get key elements (Optimized DOM lookups)
      const header = document.getElementById("site-header");
      const stickyCta = document.querySelector(".sticky-cta");
      const body = document.body;
      const heroImageWrapper = document.querySelector(".hero-section__img-wrapper");
      const videoTourCta = document.getElementById("video-tour-cta");
      const enquiryForm = document.getElementById("enquiryForm");

      // Section Background Colors
      const sectionColors = {
        hero: "var(--clr-bg-light)",
        advantage: "var(--clr-bg-card)",
        facilities: "var(--clr-bg-light)",
        pricing: "var(--clr-bg-card)",
        contact: "var(--clr-bg-light)",
      };

      // --- Utility Functions ---

      /**
       * 1. Smooth Scroll with Offset (CRITICAL FIX)
       * Applies smooth scroll with a calculated offset to *all* anchor links
       * (including #contact) to account for the sticky header.
       */
      document.querySelectorAll('a[href^="#"]').forEach((a) => {
        a.addEventListener("click", (e) => {
          const href = a.getAttribute("href");

          // POLISH/FIX: Removed "#contact" from the exclusion.
          // Now only empty/placeholder '#' anchors are skipped.
          if (href === "#" || href === "") {
            e.preventDefault();
            return;
          }

          const target = document.querySelector(href);
          if (target) {
            e.preventDefault(); // Prevent default browser jump

            // Ensure header is defined before calculating offset
            const offset = header ? header.offsetHeight + 10 : 0;
            const targetPosition = target.offsetTop - offset;

            window.scrollTo({
              top: targetPosition,
              behavior: "smooth",
            });
          }
        });
      });

      // 2. Button Ripple Effect (Cleaned up as IIFE for encapsulation)
      (function setupRippleEffect() {
        document.querySelectorAll(".btn").forEach((btn) => {
          btn.addEventListener("click", function (e) {
            // Use 'this' reference for the button element
            const rect = this.getBoundingClientRect();
            const size = Math.max(rect.width, rect.height);
            const x = e.clientX - rect.left - size / 2;
            const y = e.clientY - rect.top - size / 2;

            const ripple = document.createElement("span");
            ripple.classList.add("ripple");
            ripple.style.width = ripple.style.height = `${size}px`;
            ripple.style.left = `${x}px`;
            ripple.style.top = `${y}px`;

            // Remove existing ripples to prevent accumulation if clicked quickly
            this.querySelector(".ripple")?.remove();
            this.appendChild(ripple);

            ripple.addEventListener("animationend", () => {
              ripple.remove();
            });
          });
        });
      })();

      // 3. Header Shrink, Sticky CTA Visibility, and Parallax on Scroll (Optimized)
      function handleScroll() {
        const scrollPosition = window.scrollY;
        const totalHeight = body.scrollHeight;
        const viewportHeight = window.innerHeight;

        // Header Shrink Effect
        // Get computed styles only once per function call
        const rootStyle = getComputedStyle(document.documentElement);
        const headerHeightVar = rootStyle.getPropertyValue("--header-h").trim();
        const headerScrolledHeightVar = rootStyle
          .getPropertyValue("--header-h-scrolled")
          .trim();

        if (scrollPosition > 50) {
          header.classList.add("is-scrolled");
          body.style.paddingTop = headerScrolledHeightVar;
        } else {
          header.classList.remove("is-scrolled");
          body.style.paddingTop = headerHeightVar;
        }

        // Sticky CTA Visibility Logic (Mobile Only, using the CSS media query breakpoint)
        if (window.innerWidth < 600 && stickyCta) {
          const isScrollingPastHero = scrollPosition > 400;
          // Increased buffer for bottom visibility check for better UX
          const isScrollingNearBottom =
            scrollPosition + viewportHeight > totalHeight - 300;

          // Use requestAnimationFrame for smoother visibility toggle
          requestAnimationFrame(() => {
            if (isScrollingPastHero && !isScrollingNearBottom) {
              stickyCta.classList.add("is-visible");
            } else {
              stickyCta.classList.remove("is-visible");
            }
          });
        }

        /*
          START OF FIX: REMOVED PARALLAX CODE BLOCK
          The following section was removed to stop the hero image from moving on scroll:
          
          // Parallax Effect for Hero Image
          if (heroImageWrapper && scrollPosition < viewportHeight) {
            const parallaxRate = 0.2;
            const offset = scrollPosition * parallaxRate;
            // Use requestAnimationFrame for smooth parallax
            requestAnimationFrame(() => {
              // Use transform for performance
              heroImageWrapper.style.transform = `translateY(${offset}px)`;
            });
          } else if (heroImageWrapper) {
            // Reset transform when out of viewport range
            heroImageWrapper.style.transform = "translateY(0px)";
          }
          
          END OF FIX
        */

        // Scroll-Triggered Background Color Changes (Optimized)
        const sections = document.querySelectorAll("section");
        let currentSectionColor = sectionColors.hero;

        // Use a small buffer to determine current section (top 1/3 of viewport)
        const triggerPoint = window.innerHeight / 3;

        for (const section of sections) {
          const rect = section.getBoundingClientRect();
          // Check if section is visible in the viewport's top third
          if (rect.top <= triggerPoint && rect.bottom >= triggerPoint) {
            currentSectionColor =
              sectionColors[section.id] || "var(--clr-bg-light)";
            break; // Found the active section, no need to check others
          }
        }

        // Apply the color change only if necessary
        if (body.style.backgroundColor !== currentSectionColor) {
          body.style.backgroundColor = currentSectionColor;
        }
      }

      // Attach listeners
      window.addEventListener("scroll", handleScroll, { passive: true });
      window.addEventListener("load", handleScroll);
      window.addEventListener("resize", handleScroll);

      // 4. Video Tour Handler (Attached to the ID)
      function handleVideoTourClick(e) {
        e.preventDefault(); // Prevent default link/button action
        const videoUrl = "https://youtu.be/GJUg8K_Nqmw?si=-NaEjcmIoq1nNqQP";
        window.open(videoUrl, "_blank", "noopener,noreferrer");
      }

      if (videoTourCta) {
        videoTourCta.addEventListener("click", handleVideoTourClick);
        videoTourCta.addEventListener("keydown", (e) => {
          if (e.key === "Enter" || e.key === " ") {
            e.preventDefault();
            handleVideoTourClick(e);
          }
        });
      }

      // 5. WhatsApp inquiry handler (Attached to the Form ID)
      function handleWhatsAppSubmit(e) {
        e.preventDefault();
        const form = e.target;
        // Use optional chaining and default to empty string for safety
        const name = form.elements.name?.value.trim() || "";
        const phone = form.elements.phone?.value.trim() || "";

        // Ensure we get the select element correctly
        const planSelect = document.getElementById("plan-select");
        const plan = planSelect
          ? planSelect.options[planSelect.selectedIndex].value
          : "Not Selected";
        const note = form.elements.note?.value.trim() || "N/A";

        if (!name || !phone || !plan || plan === "") {
          // Replaced alert with a non-blocking notification (e.g., console log)
          // You could replace this with a custom modal UI
          console.warn("Please fill in your Name, Phone Number, and Preferred Plan.");
          // Find the first invalid field and focus it
          if (!name) form.elements.name.focus();
          else if (!phone) form.elements.phone.focus();
          else if (!plan || plan === "") planSelect.focus();
          return;
        }

        // Sanitize phone number to digits only for WhatsApp API
        const digits = phone.replace(/[^0-9+]/g, "").replace(/^\+/, ""); // Remove all non-digits/non-plus, then remove leading plus if present

        const message = `🔔 New Library Inquiry\n\n👤 Name: ${name}\n📞 Phone: ${phone}\n⭐ Plan: ${plan}\n📝 Note: ${note}\n\n*Please share availability and admission steps.*`;

        // Standard WhatsApp country code (India) is prefixed for reliability if not present.
        const phoneNumber = digits.length < 10 ? "91" + digits : digits;

        const url = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(
          message
        )}`;

        window.open(url, "_blank", "noopener,noreferrer");

        form.reset();
      }

      if (enquiryForm) {
        enquiryForm.addEventListener("submit", handleWhatsAppSubmit);
      }

      // 6. Slideshow/Carousel Logic (CRITICAL FIX: Fully Independent Setup)
      // Encapsulated setup functions inside a main function to keep them out of global scope.
      (function slideshowModule() {
        function setupSlideshow() {
          const slideshowContainers = document.querySelectorAll(".slideshow");
          slideshowContainers.forEach((container) => {
            initializeSingleSlideshow(container);
          });
        }

        function initializeSingleSlideshow(container) {
          let currentSlideIndex = 1;
          let timeout;
          const slides = container.querySelectorAll(".slide");
          const dots = container.querySelectorAll(".dot");
          const prevBtn = container.querySelector(".prev");
          const nextBtn = container.querySelector(".next");

          if (slides.length === 0) return;

          const autoShowSlidesDuration = 4000; // 4 second auto-advance

          function showSlide(n) {
            // Clear previous auto-advance
            clearTimeout(timeout);

            if (n > slides.length) {
              currentSlideIndex = 1;
            }
            if (n < 1) {
              currentSlideIndex = slides.length;
            }

            slides.forEach((s) => (s.style.display = "none"));
            dots.forEach((d) => (d.className = d.className.replace(" active", "")));

            // Use requestAnimationFrame for smooth transition between slides
            requestAnimationFrame(() => {
              const activeSlide = slides[currentSlideIndex - 1];
              const activeDot = dots[currentSlideIndex - 1];

              activeSlide.style.display = "block";

              // Ensure the fade class is added/removed to re-trigger animation
              activeSlide.classList.remove("fade");
              // Force a browser reflow to restart the animation
              // eslint-disable-next-line no-unused-expressions
              void activeSlide.offsetWidth;
              activeSlide.classList.add("fade");

              if(activeDot) {
                activeDot.classList.add("active");
              }
            });

            // Restart auto-advance
            autoShowSlides();
          }

          function plusSlides(n) {
            showSlide((currentSlideIndex += n));
          }

          function currentSlide(n) {
            showSlide((currentSlideIndex = n));
          }

          function autoShowSlides() {
            timeout = setTimeout(() => {
              plusSlides(1); // Use plusSlides to handle wrapping
            }, autoShowSlidesDuration);
          }

          // Event Listeners for controls
          if (prevBtn) {
            prevBtn.addEventListener("click", () => plusSlides(-1));
          }
          if (nextBtn) {
            nextBtn.addEventListener("click", () => plusSlides(1));
          }

          dots.forEach((dot, index) => {
            dot.addEventListener("click", () => currentSlide(index + 1));
            // Add keyboard support for accessibility
            dot.addEventListener("keydown", (e) => {
              if (e.key === "Enter" || e.key === " ") {
                e.preventDefault();
                currentSlide(index + 1);
              }
            });
          });

          // Pause on hover
          container.addEventListener("mouseenter", () => clearTimeout(timeout));
          container.addEventListener("mouseleave", () => autoShowSlides());

          // Start the slideshow
          showSlide(currentSlideIndex);
        }

        // Start the slideshow once the page is fully loaded
        window.addEventListener("load", setupSlideshow);
      })();
    </script>
    </body>
</html>
